webpackJsonp([5],{klm7:function(e,t){},mKLz:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l("mvHQ"),o=l.n(r),a=l("woOf"),i=l.n(a),s=l("ZIen"),n={name:"employManager",data:function(){return{listLoading:!0,list:null,total:0,listQuery:{current:1,size:10},dialogFormVisible:!1,dialogStatus:"create",textMap:{update:"修改用户",create:"添加用户"},ruleForm:{id:"",username:"",sex:"",educational:"",mobile:"",userDes:""},rules:{username:[{required:!0,message:"请输入账号名称",trigger:"blur"}],sex:[{required:!0,message:"请输入性别",trigger:"blur"}],educational:[{required:!0,message:"请输入最高学历",trigger:"blur"}],mobile:[{required:!0,message:"请输入薪手机",trigger:"blur"}],userDes:[{required:!0,message:"请输入求职简介",trigger:"blur"}]}}},created:function(){this.axiosdata()},methods:{handleSizeChange:function(e){this.listQuery.size=e,this.axiosdata()},handleCurrentChange:function(e){this.listQuery.current=e,this.axiosdata()},onSubmitSelect:function(){this.axiosdata()},axiosdata:function(){var e=this;this.listLoading=!0,Object(s.a)({method:"post",url:"/user/list",data:this.listQuery}).then(function(t){console.log(t),e.listLoading=!1,e.list=t.data.records,e.total=t.data.total})},TJCollectionForm:function(){i()(this.$data.ruleForm,this.$options.data().ruleForm),this.dialogStatus="create",this.dialogFormVisible=!0},BJCollectionForm:function(e){this.ruleForm=JSON.parse(o()(this.list[e])),this.dialogStatus="update",this.dialogFormVisible=!0},submitCollectionForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;Object(s.a)({method:"post",url:"/user/register",data:t.ruleForm}).then(function(e){console.log(e),0===e.code?(t.axiosdata(),t.dialogFormVisible=!1,t.$message.success("添加数据成功！")):t.$message.error("添加数据失败！")})})},updateCollectionForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;Object(s.a)({method:"post",url:"/user/update",data:t.ruleForm}).then(function(e){0===e.code?(t.axiosdata(),t.dialogFormVisible=!1,t.$message.success("修改数据成功！")):t.$message.error("修改数据失败！")})})},deleteVisible:function(e){var t=this;this.$confirm("确定要删除【"+e.row.username+"】吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.a)({method:"post",url:"/user/del/"+e.row.id,data:e.row}).then(function(e){0===e.code?(t.axiosdata(),t.dialogFormVisible=!1,t.$message.error("删除完毕")):t.$message.error("删除数据失败！")})})}}},u={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticStyle:{padding:"5px 20px"}},[l("br"),e._v(" "),l("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.listQuery}},[l("el-form-item",{attrs:{label:"职业名称"}},[l("el-input",{attrs:{placeholder:"职业名称"},model:{value:e.listQuery.employName,callback:function(t){e.$set(e.listQuery,"employName",t)},expression:"listQuery.employName"}})],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSubmitSelect}},[e._v("查询")])],1)],1),e._v(" "),l("el-table",{attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[l("el-table-column",{attrs:{prop:"id",label:"用户id",width:"180"}}),e._v(" "),l("el-table-column",{attrs:{prop:"username",label:"账号",width:"180"}}),e._v(" "),l("el-table-column",{attrs:{prop:"sex",label:"性别"}}),e._v(" "),l("el-table-column",{attrs:{prop:"educational",label:"最高学历"}}),e._v(" "),l("el-table-column",{attrs:{prop:"userDes",label:"求职简介"}}),e._v(" "),l("el-table-column",{attrs:{prop:"mobile",label:"手机"}}),e._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改密码",placement:"top"}},[l("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(l){return e.BJCollectionForm(t.$index)}}})],1),e._v(" "),l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[l("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(l){return e.deleteVisible(t)}}})],1)]}}])})],1),e._v(" "),l("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":[10],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,background:!0},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),l("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("el-form",{ref:"collectionform",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"120px","label-position":"left"}},[l("el-form-item",{attrs:{label:"账号",prop:"username"}},[l("el-input",{attrs:{placeholder:"账号"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"性别",prop:"sex"}},[l("el-radio-group",{model:{value:e.ruleForm.sex,callback:function(t){e.$set(e.ruleForm,"sex",t)},expression:"ruleForm.sex"}},[l("el-radio",{attrs:{label:"男"}},[e._v("男")]),e._v(" "),l("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"学历",prop:"educational"}},[l("el-radio-group",{model:{value:e.ruleForm.educational,callback:function(t){e.$set(e.ruleForm,"educational",t)},expression:"ruleForm.educational"}},[l("el-radio",{attrs:{label:"专科"}},[e._v("专科")]),e._v(" "),l("el-radio",{attrs:{label:"本科"}},[e._v("本科")]),e._v(" "),l("el-radio",{attrs:{label:"研究生"}},[e._v("研究生")]),e._v(" "),l("el-radio",{attrs:{label:"博士"}},[e._v("博士")])],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[l("el-input",{attrs:{placeholder:"手机"},model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"求职简介",prop:"userDes"}},[l("el-input",{attrs:{placeholder:"求职简介"},model:{value:e.ruleForm.userDes,callback:function(t){e.$set(e.ruleForm,"userDes",t)},expression:"ruleForm.userDes"}})],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),"create"==e.dialogStatus?l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitCollectionForm("collectionform")}}},[e._v("添 加")]):l("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.updateCollectionForm("collectionform")}}},[e._v("修 改")])],1)],1)],1)},staticRenderFns:[]};var c=l("VU/8")(n,u,!1,function(e){l("klm7")},null,null);t.default=c.exports}});
//# sourceMappingURL=5.17bd85e3b312fbab626b.js.map