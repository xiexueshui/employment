webpackJsonp([5],{"N+0I":function(e,t){},hnEz:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l("mvHQ"),r=l.n(o),a=l("woOf"),i=l.n(a),s=l("ZIen"),n={name:"employManager",data:function(){return{listLoading:!0,list:null,total:0,listQuery:{current:1,size:10},dialogFormVisible:!1,dialogStatus:"create",textMap:{update:"修改职业",create:"添加职业"},ruleForm:{id:"",employName:"",professional:"",educational:"",moneyType:"",employDes:""},rules:{year:[{required:!0,message:"请输入",trigger:"blur"}],collegeCode:[{required:!0,message:"请输入专业",trigger:"blur"}],collegeName:[{required:!0,message:"请输入",trigger:"blur"}],specialtyName:[{required:!0,message:"请输入",trigger:"blur"}],lowestScore:[{required:!0,message:"请输入",trigger:"blur"}]}}},created:function(){this.axiosdata()},methods:{handleSizeChange:function(e){this.listQuery.size=e,this.axiosdata()},handleCurrentChange:function(e){this.listQuery.current=e,this.axiosdata()},onSubmitSelect:function(){this.axiosdata()},axiosdata:function(){var e=this;this.listLoading=!0,Object(s.a)({method:"post",url:"/volunteer/page",data:this.listQuery}).then(function(t){console.log(t),e.listLoading=!1,e.list=t.data.records,e.total=t.data.total})},TJCollectionForm:function(){i()(this.$data.ruleForm,this.$options.data().ruleForm),this.dialogStatus="create",this.dialogFormVisible=!0},BJCollectionForm:function(e){this.ruleForm=JSON.parse(r()(this.list[e])),this.dialogStatus="update",this.dialogFormVisible=!0},submitCollectionForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;Object(s.a)({method:"post",url:"/volunteer/add",data:t.ruleForm}).then(function(e){console.log(e),0===e.code?(t.axiosdata(),t.dialogFormVisible=!1,t.$message.success("添加数据成功！")):t.$message.error("添加数据失败！")})})},updateCollectionForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;Object(s.a)({method:"post",url:"/volunteer/update",data:t.ruleForm}).then(function(e){0===e.code?(t.axiosdata(),t.dialogFormVisible=!1,t.$message.success("修改数据成功！")):t.$message.error("修改数据失败！")})})},deleteVisible:function(e){var t=this;this.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.a)({method:"post",url:"/volunteer/del/"+e.row.id,data:e.row}).then(function(e){0===e.code?(t.axiosdata(),t.dialogFormVisible=!1,t.$message.error("删除完毕")):t.$message.error("删除数据失败！")})})}}},c={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticStyle:{padding:"5px 20px"}},[l("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.listQuery}},[l("el-form-item",{attrs:{label:"年份"}},[l("el-date-picker",{attrs:{"value-format":"yyyy",type:"year","default-value":"2024",placeholder:"选择年"},model:{value:e.listQuery.year,callback:function(t){e.$set(e.listQuery,"year",t)},expression:"listQuery.year"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"学校"}},[l("el-input",{attrs:{placeholder:"学校"},model:{value:e.listQuery.collegeName,callback:function(t){e.$set(e.listQuery,"collegeName",t)},expression:"listQuery.collegeName"}})],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSubmitSelect}},[e._v("查询")])],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"success",icon:"el-icon-edit"},on:{click:e.TJCollectionForm}},[e._v("添加")])],1)],1),e._v(" "),l("el-table",{attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[l("el-table-column",{attrs:{label:"年份",prop:"year"}}),e._v(" "),l("el-table-column",{attrs:{label:"院校编码",prop:"collegeCode"}}),e._v(" "),l("el-table-column",{attrs:{label:"院校名称",prop:"collegeName"}}),e._v(" "),l("el-table-column",{attrs:{label:"专业编码",prop:"specialtyCode"}}),e._v(" "),l("el-table-column",{attrs:{label:"专业名称",prop:"specialtyName"}}),e._v(" "),l("el-table-column",{attrs:{label:"投档最低分",prop:"lowestScore"}}),e._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top"}},[l("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(l){return e.BJCollectionForm(t.$index)}}})],1),e._v(" "),l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[l("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(l){return e.deleteVisible(t)}}})],1)]}}])})],1),e._v(" "),l("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":[10],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,background:!0},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),l("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("el-form",{ref:"collectionform",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"120px","label-position":"left"}},[l("el-form-item",{attrs:{label:"年份",prop:"year"}},[l("el-date-picker",{attrs:{"value-format":"yyyy",type:"year","default-value":"2024",placeholder:"选择年"},model:{value:e.ruleForm.year,callback:function(t){e.$set(e.ruleForm,"year",t)},expression:"ruleForm.year"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"院校编码",prop:"collegeCode"}},[l("el-input",{attrs:{placeholder:"请输入"},model:{value:e.ruleForm.collegeCode,callback:function(t){e.$set(e.ruleForm,"collegeCode",t)},expression:"ruleForm.collegeCode"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"院校名称",prop:"collegeName"}},[l("el-input",{attrs:{placeholder:"请输入"},model:{value:e.ruleForm.collegeName,callback:function(t){e.$set(e.ruleForm,"collegeName",t)},expression:"ruleForm.collegeName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"专业编码",prop:"specialtyCode"}},[l("el-input",{attrs:{placeholder:"请输入"},model:{value:e.ruleForm.specialtyCode,callback:function(t){e.$set(e.ruleForm,"specialtyCode",t)},expression:"ruleForm.specialtyCode"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"专业名称",prop:"specialtyName"}},[l("el-input",{attrs:{placeholder:"请输入"},model:{value:e.ruleForm.specialtyName,callback:function(t){e.$set(e.ruleForm,"specialtyName",t)},expression:"ruleForm.specialtyName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"投档最低分",prop:"lowestScore"}},[l("el-input",{attrs:{placeholder:"请输入"},model:{value:e.ruleForm.lowestScore,callback:function(t){e.$set(e.ruleForm,"lowestScore",t)},expression:"ruleForm.lowestScore"}})],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),"create"==e.dialogStatus?l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitCollectionForm("collectionform")}}},[e._v("添 加")]):l("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.updateCollectionForm("collectionform")}}},[e._v("修 改")])],1)],1)],1)},staticRenderFns:[]};var u=l("VU/8")(n,c,!1,function(e){l("N+0I")},null,null);t.default=u.exports}});
//# sourceMappingURL=5.2d04e24f38f5573f7715.js.map